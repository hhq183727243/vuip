!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(2)),s=i(n(3)),l=i(n(5)),c={},u=["onclick","onchange","onscroll"],d=0;function f(e){if(""===e)throw new Error("事件绑定错误");var t="",n="",r=e.match(/^(\w+)\s*\(?\s*([\w,\.\s]*)\s*\)?$/);return r&&(t=r[1],n=r[2]),{name:t,params:n}}var h=[];function p(e,t){var n=e.type,r=e.content,o=e.tagName,i=e.attr,a=void 0===i?{}:i,s=e.children,l=[];s&&s.forEach((function(e,t){l.push(p(e,t>0?s[t-1]:null))}));var c="{",d="";if(Object.keys(a).forEach((function(e,t){if(u.includes(e)){var r=f(a[e]),o=r.name,i=r.params;d+='"'+e.replace("on","")+'": function($event){ return this.'+o+"("+(/\w/.test(i)?i+",":"")+"$event)},"}else if(0===e.indexOf("v-on:")&&3===n){var s=f(a[e]);o=s.name,i=s.params;c+='"'+e.replace(/^v-on:?/,"")+'": function(a,b,c,d,e,f){ return $vuip.'+o+"("+(/\w/.test(i)?i+",":"")+"a,b,c,d,e,f)},"}else 0===e.indexOf(":")?c+='"'+e.replace(/^:?/,"")+'": '+a[e]+",":c+='"'+e+'": "'+a[e]+'",'})),c+="}",d=""!==d?"{"+d+"}":"",1===n)return"slot"===o?"createSlots($vuip)":'createElement("'+o+'", '+('{"attrs": '+c+(""!==d?', "on": '+d:"")+"}")+", ["+l.join(",")+"], $vuip)";if(2===n)return r?"createElement(undefined, null, "+function(e){var t,n=/\{\s*([\(\),\w\.:\?\+\-\*\/\s'"=!<>]+)\s*\}/g,r=e;for(;null!==(t=n.exec(r));)e=e.replace(t[0],'" + ('+t[1]+') + "');return'"'+e+'"'}(r.replace(/\r\n|\r|\n/g,""))+", $vuip)":"";if(3===n)return'createComponent("'+o+'", '+c+",["+l.join(",")+"], $vuip, __option__)";if(4===n){var m="",v=a.data,g=void 0===v?[]:v,y=a.test,w=a.item,_=void 0===w?"item":w,N=a.index,E=void 0===N?"index":N;switch(o){case"v-for":if(s&&0!==s.length){if(1!==s.length)throw new Error("v-for 标签下只能有一个标签节点");m="getFor("+g+", function("+_+","+E+"){ return "+l[0]+"; }, $vuip, __option__)"}else m="";break;case"v-while":if(s&&0!==s.length){if(1!==s.length)throw new Error("v-while 标签下只能有一个标签节点");m="getFor("+g+", function("+_+","+E+"){ return getIf("+y+", function(){ return "+l[0]+";}, $vuip)}, $vuip, __option__)"}else m="";break;case"v-if":if(s&&0!==s.length){if(1!==s.length)throw new Error("v-if 标签下只能有一个标签节点");h=[],m="getIf("+y+", function(){ return "+l[0]+";}, $vuip)"}else m="";break;case"v-elseif":case"v-else":if(!t||"v-if"!==t.tagName&&"v-elseif"!==t.tagName)throw new Error("v-elseif/else 标签下只能在v-if 或 v-elseif标签之后");if(s&&0!==s.length){if(1!==s.length)throw new Error("v-elseif/else 标签下只能有一个标签节点");t.attr&&h.push(t.attr.test),m="getElseIf(["+h.join(",")+"], "+("v-elseif"!==o||y)+", function(){ return "+l[0]+";}, $vuip)"}else m="";break;default:m=""}return m}return""}function m(e){return new Function("__option__","with(this){return "+e+"}")}var v=function(e){return function(){console.log(e)}},g={willCreate:v("willCreate"),created:v("created"),willMount:v("willMount"),mounted:v("mounted"),willUpdate:v("willUpdate"),updated:v("updated"),willUnmount:v("willUnmount"),unmounted:v("unmounted")},y=function(){function e(e){var t=e.$parent,n=e.options,r=e.props,o=void 0===r?{}:r,i=e.$slots;for(var a in this.cid=d++,this.config=Object.assign({methods:{},data:function(){return{}}},g,n),this.config.willCreate.bind(this)(),this.componentName=this.config.name,this.$el=null,this.$parent=t,this.$slots=i,this.$children=[],this.props=o,this.componentState="UNCREATED",this._data=this.config.data()||{},this.config.methods)this[a]=this.config.methods[a];this._init()}return e.prototype._init=function(){var e=this;this._proxyData(this._data);var t="";if(this.config.ast)t=p(this.config.ast,null);else{if("function"!=typeof this.config.render)throw new Error("缺少html视图模板，无法实例化组件");t=p(this.config.render(l.default,this),null)}this.$render=m(t),this.$vNode=this._renderVnode(),c[this.cid]=this,new Promise((function(e,t){e()})).then((function(){"function"==typeof e.config.mounted&&"UNCREATED"===e.componentState&&(e.componentState="CREATED",e.config.mounted.call(e))}))},e.prototype._proxyData=function(e){var t=this;this.data=new Proxy(e,{get:function(e,n,r){return"function"==typeof e[n]?e[n].bind(t)():e[n]},set:function(e,t,n,r){throw new Error("VUI 不允许直接对data赋值，否则可能会引起一些未知异常")}})},e.prototype._reRender=function(){if("function"==typeof this.config.render){var e=p(this.config.render(l.default,this),null);this.$render=m(e)}var t=this._renderVnode({update:!0});if(this.$vNode){var n=a.default(this.$vNode,t);n.length&&(a.updateDom(n),"function"==typeof this.config.updated&&this.config.updated.call(this))}},e.prototype._renderVnode=function(e){var t=this;void 0===e&&(e={});var n={};return Object.keys(this.config.methods).forEach((function(e){n[e]=t.config.methods[e].bind(t)})),this.$render.call(r(r(r(r({},s.default),{props:this.props,state:(this.$store||{}).state,$vuip:this}),this.data),n),r({update:!1},e))},e.prototype.setData=function(e,t){var n=this;for(var r in void 0===e&&(e={}),this.renderEnd=!1,e)this._data[r]=e[r];new Promise((function(e){e()})).then((function(){n.renderEnd||(n._reRender(),n.renderEnd=!0,t&&t())}))},e.prototype.uninstall=function(){var e=this;this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el),this.config.willUnmount.call(this),this.config.unmounted.call(this);var t=null;this.$parent&&(this.$parent.$children.forEach((function(n,r){n===e&&(t=r)})),null!==t&&this.$parent.$children.splice(t,1)),this.$children.forEach((function(e){e.uninstall()}))},e}();t.default=y},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0));function i(e){return new o.default({options:e,props:{}})}var a=function(){function e(t){var n=t.render,r=t.id,a=t.router,s=t.store;for(var l in this.__proto__)o.default.prototype[l]=this.__proto__[l];o.default.prototype.Vuip=e,o.default.prototype.$store=s,o.default.prototype.$router=a;var c=n(i),u=document.querySelector(r)||document.createElement("div");return c.$vNode&&(c.$el=c.$vNode.render(),u.innerHTML="",u.appendChild(c.$el)),a&&(a.$app=c),a&&(s.$app=c),c}return e.use=function(e){e.install&&e.install(this)},e.component=function(e,t){if(e[0].toUpperCase()!==e[0])throw new Error("<"+e+"> - 组件名首个字母必须大写");if(this.componentMap.get(e))throw new Error("<"+e+"> - 组件名冲突，请检查组件名是否已注册");this.componentMap.set(e,t)},e.componentMap=new Map,e}();window&&(window.Vuip=a),t.default=a},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0));function i(e,t,n,r){if(Array.isArray(e))s(e,Array.isArray(t)?t:[],n);else if(!Array.isArray(e)&&!Array.isArray(t))if(void 0===t)n.push({type:"DELETE",weight:8,oldNode:e,point:r});else if(e.tagName===t.tagName)if(void 0===e.tagName)e.text!==t.text&&n.push({type:"TEXT",weight:1,oldNode:e,newNode:t});else if(0===e.tagName.indexOf("component-")&&e.child&&t.child){var i=e.child.props,l=t.child.props;Object.keys(i).forEach((function(e){i[e]!==l[e]&&"function"!=typeof i[e]&&(!0,i[e]=l[e]),Object.keys(l).includes(e)||(!0,delete i[e])})),e.child instanceof o.default&&e.child._reRender(),s(e.child.$slots||[],t.child.$slots||[],n)}else{if(a(e.attrs)&&a(t.attrs)){var c=e.attrs,u=t.attrs,d=!1;Object.keys(c).forEach((function(e){c[e]!==u[e]&&(d=!0),Object.keys(u).includes(e)||(d=!0)})),d&&n.push({type:"ATTRS",weight:2,node:e,newAttrs:u,oldAttrs:c})}Array.isArray(e.children)&&s(e.children,Array.isArray(t.children)?t.children:[],n)}else e.tagName!==t.tagName&&n.push({type:"REPLACE",weight:9,oldNode:e,newNode:t,point:r});return n.sort((function(e,t){return e.weight>t.weight?-1:1}))}function a(e){return null!=e}function s(e,t,n){if(e.forEach((function(r,o){i(r,t[o],n,e)})),e.length<t.length){var r={type:"ADD",weight:10,prevNode:e[e.length-1],newNodes:t.slice(e.length,t.length),point:e};n.push(r)}}function l(e){if(e.tagName&&0===e.tagName.indexOf("component-")){var t=null;if(e.context.$children.forEach((function(n,r){n===e.child&&(t=r)})),null!==t&&e.child)return void(e.child instanceof o.default&&e.child.uninstall())}Array.isArray(e.children)&&e.children.forEach((function(e){l(e)}))}t.default=function(e,t){var n=[];return i(e,t,n),n},t.updateDom=function(e){e.forEach((function(e){if("TEXT"===e.type&&e.oldNode&&e.oldNode.elm&&e.newNode)e.oldNode.elm.textContent=e.newNode.text||"",e.oldNode.text=e.newNode.text,e.oldNode.elm.parentEl&&(e.oldNode.elm.parentEl.innerHTML=e.newNode.text||"");else if("DELETE"===e.type&&e.oldNode){e.oldNode.elm.parentNode.removeChild(e.oldNode.elm);var t=-1;e.point&&(e.point.forEach((function(n,r){n===e.oldNode&&(t=r)})),t>=0&&e.point.splice(t,1)),l(e.oldNode)}else if("REPLACE"===e.type&&e.oldNode)e.oldNode.elm&&e.oldNode.elm.parentNode.replaceChild(e.newNode.render(),e.oldNode.elm),e.point&&(s=e.point,c=e.oldNode,u=e.newNode,d=void 0,s.forEach((function(e,t){e===c&&(d=t)})),a(d)&&s.splice(d,1,u)),l(e.oldNode);else if("ADD"===e.type&&e.newNodes){var n=document.createDocumentFragment();e.newNodes.forEach((function(e){n.appendChild(e.render())})),e.prevNode&&(r=n,o=e.prevNode.elm,(i=o.parentNode)&&(i.lastChild==o?i.appendChild(r):i.insertBefore(r,o.nextSibling))),e.point&&e.point.push.apply(e.point,e.newNodes)}else"ATTRS"===e.type&&e.node&&e.newAttrs&&e.node.updateAttrs(e.newAttrs);var r,o,i,s,c,u,d}))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),a=o(n(0));t.default={createText:function(e){return e},createSlots:function(e){return e.$slots},createComponent:function(e,t,n,o,s){var l;if(void 0===t&&(t={}),!(l=o.config.component&&o.config.component[e]?o.config.component[e]:o.Vuip.componentMap.get(e)))throw new Error("VUI 组件配置不存在");var c,u=r({},t);return s.update?c={$parent:o,options:l,props:u,$slots:n}:(c=new a.default({$parent:o,options:l,props:u,$slots:n}),o.$children.push(c)),i.createElement("component-"+c.options.name,{},c,o)},getFor:function(e,t,n,r){var o=[];return o.push(i.createElement("comment",null,"v-for",n)),(e||[]).forEach((function(e,n){o.push(t(e,n))})),o},getIf:function(e,t,n){return e?t():i.createElement("comment",null,e.toString(),n)},getElseIf:function(e,t,n,r){return e.includes(!0)?i.createElement("comment",null,"else-if",r):t?n():i.createElement("comment",null,t.toString(),r)},createElement:i.createElement}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0));function i(e,t,n){var r;try{r=t?e.apply(n,t):e.call(n)}catch(e){console.error(e)}return r}var a=function(){function e(e){var t=e.tagName,n=e.option,r=e.children,i=e.context,a=n||{},s=a.attrs,l=a.on;this.tagName=t,this.context=i,this.text=void 0,this.children=void 0,this.on=l,this.attrs=s,void 0===t&&"string"==typeof r?this.text=r:"comment"===t?this.text=null==r?void 0:r.toString():0===t.indexOf("component-")?r instanceof o.default&&(this.child=r):this.children=r}return e.prototype.render=function(e){var t,n=this;return void 0===this.tagName&&this.text?(t=document.createTextNode(this.text),e&&(t.parentEl=e)):"comment"===this.tagName?t=document.createComment(this.text||"undefined"):0===this.tagName.indexOf("component-")?(!this.child||this.child instanceof o.default||(this.child=new o.default(this.child),this.child.$parent&&this.child.$parent.$children.push(this.child)),this.child&&this.child.$vNode?t=this.child.$vNode.render():(t=document.createElement(this.tagName),console.error("未找到子组件可渲染的节点"))):t=document.createElement(this.tagName),this.context.$el||(this.context.$el=t),this.elm=t,this.setAttrs(),this.on&&Object.keys(this.on).forEach((function(e){var r=function(e,t){function n(){var e=arguments,r=n.fns;if(!Array.isArray(r))return i(r,arguments,t);for(var o=r.slice(),a=0;a<o.length;a++)i(o[a],e,t)}return n.fns=e,n}(n.on[e],n.context);t.addEventListener(e,r,!1)})),Array.isArray(this.children)&&this.children.forEach((function(e){if(Array.isArray(e))e.forEach((function(e){t.appendChild(e.render())}));else if(n.attrs["v-html"]&&Array.isArray(n.children)){if(!n.children||1!==n.children.length||void 0!==e.tagName)throw new Error("v-html 标签下只能包含一个文本标签");e.render(t),t.innerHTML=e.text||""}else t.appendChild(e.render())})),t},e.prototype.updateAttrs=function(e){this.attrs=e,this.setAttrs()},e.prototype.setAttrs=function(){var e=this;this.attrs&&Object.keys(this.attrs).forEach((function(t){var n=void 0;"input"!==e.tagName||"value"!==t?(n="img"===e.tagName&&"src"===t&&e.attrs[t]&&"object"==typeof e.attrs[t]?e.attrs[t].default:e.attrs[t],e.elm&&e.elm.setAttribute(t,n)):e.elm.value=e.attrs[t]}))},e}();t.VElement=a,t.createElement=function(e,t,n,r){return new a({tagName:e,option:t,children:n,context:r})}},function(e,t,n){"use strict";function r(e){var t=e.match(/^<([\w-]+)[\s\n]*>?/),n=[];if(t){var o=1;t[1][0]===t[1][0].toUpperCase()?o=3:"v-"===t[1].substring(0,2)&&(o=4),c.push({type:"startTag",tagName:t[1],tagType:o}),n=t[0].indexOf(">")>-1?[l,i,s,r]:[a,i]}return{regRes:t,nexts:n}}function o(e){return{regRes:e.match(/^>{1}/),nexts:[l,i,s,r]}}function i(e){var t=e.match(/^<\/([\w-]+)>|^\/>{1}/),n=[l,s,r,i];return t&&c.push({type:"endTag",tagName:t[1]}),{regRes:t,nexts:n}}function a(e){var t=e.match(/^([\w-:@]+)="([^"]*)"\s*|^([\w-:]+)\s*/),n=[a,o,i];return t&&c.push({type:"attr",name:t[1]||t[3],value:t[2]}),{regRes:t,nexts:n}}function s(e){var t=e.match(/(^[^<>][^<>]*)/),n=[l,r,i];return t&&""!==t[1].replace(/\s/g,"")&&c.push({type:"text",content:t[1]}),{regRes:t,nexts:n}}function l(e){return{regRes:e.match(/(^<!\-\-[\s\S]*?\-\->)/),nexts:[l,s,r,i]}}Object.defineProperty(t,"__esModule",{value:!0});var c=[];t.default=function(e){var t,n,o;return c=[],function e(t,n){for(var r=null,o=0;o<n.length;o++)if("function"!=typeof n[o])console.error("无效参数");else if((r=n[o](t)).regRes)break;if(!r||!r.regRes)throw new Error("当前解析未匹配："+t+"===\n");var i=t.substring(r.regRes[0].length);i.length>0&&e(i,r.nexts)}(e.replace(/(^\s*)|(\s*$)/g,""),[r]),o=(n=[])[0],c.forEach((function(e){if((t=n[0])||!o)switch(e.type){case"startTag":var r={type:e.tagType||1,tagName:e.tagName||"",attr:{}};n.unshift(r),t||o?(t.children||(t.children=[]),t.children.push(r)):o=r;break;case"attr":t.attr&&e.name&&(t.attr[e.name]=void 0===e.value||e.value);break;case"text":t.children||(t.children=[]),t.children.push({type:2,content:e.content});break;case"endTag":t.tagName!==e.tagName&&e.tagName?console.error(t.tagName+"=="+e.tagName+"闭合标签错误"):n.splice(0,1);break;default:console.error("html 模板解析异常")}else console.error("所有内容必须包含在一个标签内")})),0!==n.length&&console.error("标签解析未完成"),o}}]);